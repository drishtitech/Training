<?xml version="1.0"?>
<openerp>
	<data>
		<!--My Idea Form View-->
		<record model="ir.ui.view" id="my_idea_form_view">
			<field name="name">my.idea.form</field>
			<field name="model">my.idea</field>
			<field name="arch" type="xml">
				<form string="form_view" version="7.0">
					<header>
					<button name="idea_open" states="new" string="open idea for votiong" class ="oe_highlight"/>
					<button name="idea_close" states="open" string="Accept idea for votiong" class ="oe_highlight"/>
					<button name="idea_refuse" states="open" string="Reject idea" class ="oe_highlight"/>
					<button name="idea_reopen" states="cancel" string="Reopen the idea" class="oe_highlight"/>	
						<field name="state" widget="statusbar"/>
					</header>
					<sheet>
						<group colspan="2" cols="2">
							<field name="name" string="Name of idea"/>
						</group>
						<group>
							<group>
								<field name="creator_id"/>
								<field name="category_id" on_change="on_change_category(category_id)"/>
								<field name="requirement_ids" placeholder="Enter your requirements for this idea" widget="many2many_tags"/>
							</group>
							<group>
								<field name="creation_date"/>
								<field name="creation_datetime" string="Opening time"  />
								<field name="close_datetime" string="Closing time"/>
							</group>
						</group>
						<notebook>
							<page string="Description">
								<field name="description" nolabel="1"/>
							</page>
							<page string="Other Information">
								<group>
									<button name='%(action_idea_post_vote)d' type="action" string="post vote"/>
									<field name="count" string="Number of votes"/>
									<field name="parent_category_id"/>
									<field name="email"/>
								</group>
							</page>
							<page string="Vote Details">
								<field name="vote_ids" nolabel="1" mode="tree">
									<tree string="Vote Details">
										<field name="posted_date"/>
										<field name="user_id"/>
										<field name="comment"/>
										<field name="decision"/>
										<field name="info"/>
									</tree>
									<form string="Vote Details">
										<group col="6" colspan="2">
											<field name="user_id"/>
											<field name="posted_date"/>
											<field name="decision"/>
											<field name="info"/>
										</group>
										<newline/>
										<group string="Your comment">
											<field name="comment" nolabel="1"/>
										</group>
									</form>
								</field>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>
		
		<!--My Idea Tree View-->
		<record model="ir.ui.view" id="my_idea_tree_view">
			<field name="name">my.idea.tree</field>
			<field name="model">my.idea</field>
			<field name="arch" type="xml">
				<tree string="tree_view" colors="grey:state=='close';red:state=='cancel';blue:state in ('open','new')">
					<field name="name"/>
					<field name="description"/>
					<field name="creator_id"/>
					<field name="category_id"/>
					<field name="count"/>
					<field name="state"/>
				</tree>
			</field>
		</record>
		
		<record model="ir.ui.view" id="my_idea_search">
			<field name="name">my.idea.search</field>
			<field name="model">my.idea</field>
			<field name="arch" type="xml">
				<search string="Search view">
					<filter string="New" domain="[('state','=','new')]" help="New Ideas"/>
					<filter string="Accepted" domain="[('state','=','closed')]" help="Cloded Ideas"/>
					<filter string="My Ideas" domain="[('creator_id','=',uid)]" help="My Ideas"/>
					<field name="name"/>
					<field name="description"/>
					<field name="creator_id"/>
					<field name="category_id"/>
					<field name="count"/>
					<group string="Group By...">
						<filter string="Creator" context="{'group_by':'creator_id'}"/>
						<filter string="Category" context="{'group_by':'category_id'}"/>
					</group>
				</search>
			</field>
		</record>
		
		<record model="ir.ui.view" id="my_idea_vote_limit">
            <field name="name">my.idea.vote.limit</field>
            <field name="model">my.idea</field>
            <field name="inherit_id" ref="my_idea_form_view"/>
            <field name="arch" type="xml">
                <field name="count" position="replace"/>
                <xpath expr="/form/sheet/notebook/page/group/field[@name='email']" position="after">
                    <field name="vote_limit" size="70"/>
                </xpath>
            </field>
        </record>
       
		<!--My Idea Graph view-->
		<record model="ir.ui.view" id="my_idea_graph">
			<field name="name">my.idea.graph</field>
			<field name="model">my.idea</field>
			<field name="arch" type="xml">
				<graph string="Graph view" type="bar">
					<field name="name"/>
					<field name="count"/>
				</graph>
			</field>
		</record>
		<!--My Idea Calendar View-->
		<record id="my_idea_calendar" model="ir.ui.view">
			<field name="name">my.idea.calendar</field>
			<field name="model">my.idea</field>
			<field name="arch" type="xml">
				<calendar string="Calendar view" color="creator_id" date_start="creation_date">
					<field name="name"/>
				</calendar>
			</field>
		</record>
		
		<record id="idea_category_form" model="ir.ui.view">
			<field name="name">idea.category.form</field>
			<field name="model">idea.category</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="Category">
					<field name="name"/>
					<field name="parent_id"/>
				</form> 
			</field>
		</record>
		<!--My Idea parent and child categories-->
		<record id="idea_category_tree" model="ir.ui.view">
			<field name="name">idea.category.tree</field>
			<field name="model">idea.category</field>
			<field name="field_parent">child_id</field>
			<field name="arch" type="xml">
				<tree string="Category" toolbar="1">
					<field name="name"/>
					<field name="parent_id" invisible="1"/>
				</tree> 
			</field>
		</record>
		
		<record model="ir.actions.act_window" id="action_on_idea_category">
			<field name="name">Category</field>
			<field name="res_model">idea.category</field>
			<field name="view_type">tree</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('parent_id','=',False)]</field>			
		</record>
		
		<!--My Idea Kanban View-->
		<!-- <record model="ir.ui.view" id="my_idea_tree_kanban">
        	<field name="name">my.idea.kanban</field>
        	<field name="model">my.idea</field>
        	<field name="arch" type="xml">
            	<kanban>
                	<field name="name"/>
                	<field name="description"/>
                	<field name="image"/>
                	<templates>
                    	<t t-name="kanban-box">
                        	<div class="oe_kanban_vignette oe_semantic_html_override">
                            	<a type="open"><img t-att-src="kanban_image('my.idea', 'image_small', record.id.value)" class="oe_kanban_image"/></a>
                            	<div class="oe_kanban_details">
                                	<h4>
                                		<a type="open">
                                    		<field name="name"/>
                                		</a>
                            		</h4>
                            		<h4>
                                		<a type="open">
                                    		<field name="description"/>
                                		</a>
                            		</h4>
                            	</div>
                        	</div>
                    	</t>
                	</templates>
            	</kanban>
        	</field>https://doc.openerp.com/v6.1/developer/03_modules_2/
    	</record> -->
    	<!-- Tree view for idea_user -->
    	<!-- <record model="ir.ui.view" id="idea_user_tree">
			<field name="name">idea.user.tree</field>
			<field name="model">idea.user</field>
			<field name="arch" type="xml">
				<tree string="tree_view">
					<field name="name"/>
					<field name="user_email"/>
				</tree>
			</field>
		</record>
		
		Form view for idea_user
		<record model="ir.ui.view" id="idea_user_form">
			<field name="name">idea.user.form</field>
			<field name="model">idea.user</field>
			<field name="arch" type="xml">
				<form string="tree_view">
					<field name="name"/>
					<field name="user_email"/>
				</form>
			</field>
		</record> -->
		
		<!--Action for my_idea-->
		<record model="ir.actions.act_window" id="action_on_my_idea">
			<field name="name">My Idea</field>
			<field name="res_model">my.idea</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,graph,calendar</field>			
		</record>
		
		<!--Action for idea_category -->
		<record model="ir.actions.act_window" id="action_on_idea_category">
			<field name="name">Categories</field>
			<field name="res_model">idea.category</field>
			<field name="view_type">tree</field>
			<field name="view_mode">tree,form</field>
			<field name="domain">[('parent_id','=',False)]</field>			
		</record>
		
	 <!--Action for idea_user-->
		<!-- <record model="ir.actions.act_window" id="action_on_idea_user">
			<field name="name">Users</field>
			<field name="res_model">idea.user</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>			
		</record>  -->
		
		<!--Menu bars and menu items-->
		<menuitem id="my_idea_main_menu" name="My Idea Description"/>
		
		<menuitem id="my_idea_sub_menu" name="My Idea" parent="my_idea_main_menu" sequence="1"/>
		<menuitem id="my_idea_sub_menu_action_on_my_idea" name="Description" parent="my_idea_sub_menu" action="action_on_my_idea"/>
		
		<menuitem id="idea_category_sub_menu" name="Categories" parent="my_idea_main_menu" sequence="2"/>
		<menuitem id="idea_category_sub_menu_action_on_idea_category" name="Show categories" parent="idea_category_sub_menu" action="action_on_idea_category"/>
	
		<menuitem name="Give your vote" parent="idea_category_sub_menu" id ="menu_give_your_vote" action="action_idea_select"/>
		
	</data>
</openerp>
		